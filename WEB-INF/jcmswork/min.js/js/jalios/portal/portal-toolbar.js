"JCMS.portal.PortalManager.Toolbar"._namespace({preview:function(a){a=$(a);var b=a.fastUp("DIV","Portlet");if(a.hasClassName("portletPreview")){a.removeClassName("portletPreview");b.removeClassName("portletPreview")}else{a.addClassName("portletPreview");b.addClassName("portletPreview")}Ajax.performAjaxRequest(a.href);return false},add:function(c,d,a){if(!c){return}var b="#"+JCMS.portal.PortalManager.Toolbar._pubChooserCallback;if(!b){return}jQuery.jalios.Sortable.Portal.add(b,c)},remove:function(e){var c=$(CtxMenuManager.latestElement);var b=c.findJcmsId();var a=c.fastUp(null,"dnd-container");var d=jQuery(e).text();jQuery.jalios.ui.Modal.confirm(d,function(f){if(!f){return}jQuery.jalios.Sortable.Portal.remove(a,b)});return false},openPubChooser:function(b){var c=$(CtxMenuManager.latestElement);var d=c.fastUp(null,"Portlet");var a=d.down(".dnd-container");if(!a){JcmsLogger.warn("PortalManager.Toolbar","openPubChooser(): cannot find container",c,d);return}JCMS.portal.PortalManager.Toolbar._pubChooserCallback=a.id;return Popup.popupWindow(b,"pubChooser",900,500,false,true,true,false)},update:function(a,c){var b="jcore/portal/ajaxHandlePortletAction.jsp?id="+a+"&"+c;Ajax.performAjaxRequest(b,null,function(){jQuery.jalios.AjaxRefresh.refreshPortlet(a)});return false}});