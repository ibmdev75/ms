!function(b){if(!b.jalios){b.jalios={}}var d=function(){b.console.info("[Common] Load I18N strings ");var h=document.documentElement.getAttribute("xml:lang");var e=b("body").attr("data-jalios-pack-version");var g="js/jalios/core/jalios-i18n-js.jsp?lang="+h+(e?("&v="+e):"");b.console.info("[Common] Load '"+h+"' I18N strings "+g);b.ajax({url:g,dataType:"script",cache:true,async:false});var f={};b.map(I18N,function(j,i){if(j&&i&&i.startsWith("mejs.")){f[i]=j}});mejsL10n={language:I18N.lang,strings:f}};d();var a=function(){b(document).on("click","A.lang-trigger",function(g){var f=b(g.currentTarget);g.preventDefault();var e=f.attr("lang")||f[0].lang;b.jalios.I18N.toggleLang(e)});b(document).on("jalios:refresh",function(f){var e=b.jalios.Event.match(f,"refresh","after");if(!e||!e.target){return}c(e.target)});c()};var c=function(f){var e=b(f||document);e.find("FORM.lang-trigger").each(function(){var g=b(this);b.jalios.I18N.toggleScope(g.attr("lang"),g)});e.find("A.lang-fix").each(function(){var g=b(this);b.jalios.I18N.toggleLang(g.attr("lang"),g)})};b.jalios.I18N={glp:function(e){if(typeof I18N==="undefined"){return e}return I18N.glp.apply(this,arguments)},toggleLang:function(h,f){if(!h||h===""){return}var e=b(f||"#"+CtxMenuManager.latestElement);var g=e.closest("FORM");return b.jalios.I18N.toggleScope(h,g)},toggleScope:function(h,j){var g=b(j);if(!g.exists()){return}var i=g.identify("jq").attr("id");var f=g.data("jalios.lang.stamp");if(!f){f="lang-"+new Date().getTime();g.addClass(f);g.data("jalios.lang.stamp",f)}if(g.data("jalios.lang")){JCMS.util.StyleSheet.removeRule(".js ."+f+" .wdglang-"+g.data("jalios.lang"))}JCMS.util.StyleSheet.putRule(".js ."+f+" .wdglang","display: none;");JCMS.util.StyleSheet.putRule(".js ."+f+" .wdglang-"+h,"display: block;");g.data("jalios.lang",h);g.attr("lang",h);var e=b("#ctxLangForm IMG."+h+"-flag").first();g.find("A.ctxLangForm IMG.iso639flag").each(function(){b(this).replaceWith(e.clone())});document.fire("tabwdg:change",{tabPage:g.identify()})}};b(document).ready(function(e){a()})}(window.jQuery);