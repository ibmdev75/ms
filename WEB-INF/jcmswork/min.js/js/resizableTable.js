"JCMS.resizable.panel"._namespace();JCMS.resizable.panel.ResizableTable=Class.create({initialize:function(a){a=$(a);if(JcmsJsContext.isIE6){return}JcmsLogger.info("ResizableTable","Init ResizableTable",a.id);JcmsLogger.ResizableTable=false;this.id=a.id;this.sidebarId=this.id+"Sidebar";this.sidebarWrapperId=this.id+"SidebarWrapper";this.sidebarResizerId=this.id+"SidebarResizer";this.contentId=this.id+"Content";this.eventMouseDown=this.sidebarResizerStartDrag.bindAsEventListener(this);this.eventMouseUp=this.sidebarResizerEndDrag.bindAsEventListener(this);this.eventMouseMove=this.sidebarResizerUpdate.bindAsEventListener(this);Event.observe(document,"mouseup",this.eventMouseUp);Event.observe(document,"mousemove",this.eventMouseMove);this._registerEventListeners();Event.observe(document,"refresh:before",this._cleanEventListeners.bind(this));Event.observe(document,"refresh:after",this._registerEventListeners.bind(this))},dispose:function(){Event.stopObserving(document,"mouseup",this.eventMouseUp);Event.stopObserving(document,"mousemove",this.eventMouseMove);this._cleanEventListeners()},_registerEventListeners:function(){var a=$(this.sidebarResizerId);if(a){Event.observe(a,"mousedown",this.eventMouseDown)}},_cleanEventListeners:function(){var a=$(this.sidebarResizerId);if(a){Event.stopObserving(a,"mousedown",this.eventMouseDown)}},sidebarResizerStartDrag:function(b){if(Event.isLeftClick(b)){Event.stop(b);var a=Position.cumulativeOffset($(this.sidebarResizerId));this.start_pointer=[Event.pointerX(b),Event.pointerY(b)];this.start_sidebar_width=$(this.sidebarId).getWidth();this.resize_active=true}},sidebarResizerEndDrag:function(a){if(this.resize_active){this.resize_active=false;this.doResizeRightContainer();Event.stop(a)}},doResizeRightContainer:function(){var d=$(this.sidebarId).fastUp("DIV");if(d){var b=d.offsetWidth;var c=(b-$(this.sidebarResizerId).offsetWidth-$(this.sidebarWrapperId).offsetWidth)-20;var a=$(this.contentId).down();if(a){a.style.width=c+"px"}}},sidebarResizerUpdate:function(b){if(!this.resize_active){return}var c=[Event.pointerX(b),Event.pointerY(b)];var d=c[0]-this.start_pointer[0];var a=this.start_sidebar_width+d;if(a<100){return}$(this.sidebarId).style.width=a+"px";$(this.sidebarWrapperId).style.width=a+"px";Event.stop(b)}});